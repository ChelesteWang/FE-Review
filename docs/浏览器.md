
浏览器的组成部分：V8

https://www.html5rocks.com/zh/tutorials/internals/howbrowserswork/

v8的两个主要组成部分：内存堆（数据存储的地方） 调用栈（代码执行的地方）。

有一些浏览器的api不是由js引擎提供的，如dom,定时器，ajax等，我们称之为web api。

js是一种单线程编程语言，只有一个调用堆栈。调用栈是一种数据结构，记录了我们在程序中的位置。运行一个函数时，它会将其放到栈顶，当从这个函数返回的时候，就会将这个函数从栈顶弹出。
每一个进入调用栈的都称为调用帧，方便堆栈追踪。

堆栈溢出：调用堆栈中的函数调用数量超过了调用堆栈的实际大小，浏览器会抛出一个堆栈溢出错误

并发与事件循环产生原因：当调用堆栈有函数要执行时，浏览器实际上不能做任何其他事情——它被阻塞了，如果函数执行所需时间过程就会造成卡顿，甚至报一个错误，询问你是否想终止 web 页面。


本质上，当用户开始与浏览器交互时会发生以下情况:

用户在浏览器地址栏中输入一个 URL

给定 Web 上资源的 URL，浏览器首先检查其本地缓存和应用程序缓存，并尝试使用本地副本来完成请求

如果缓存不能使用，浏览器从 URL 获取域名，并从 DNS 请求服务器的 IP 地址。如果域被缓存，则不需要 DNS 查询

浏览器创建一个 HTTP 包，表示它请求位于远程服务器上的 Web 页面

数据包被发送到 TCP 层，TCP 层在 HTTP 数据包上添加自己的信息，维护已启动的会话需要此信息

然后数据包被传递给 IP 层，IP 层的主要任务是找出一种将数据包从用户发送到远程服务器的方法，这些信息也存储在包的顶部

数据包被发送到远程服务器

一远程服务器一旦接收到数据包，就会以类似的方式发回响应。